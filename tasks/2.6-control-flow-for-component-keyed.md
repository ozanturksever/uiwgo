---
id: 2.6
title: "Control Flow - For Component (Keyed)"
status: "todo"
part: 2
area: "Component & DOM API"
---

### Step 2.6: Control Flow - `For` Component (Keyed)

*   **Goal:** Improve the `For` component with efficient, keyed reconciliation.
*   **Actions:**
    1.  Modify the `For` component to accept a key for each item.
    2.  Implement a reconciliation algorithm (e.g., a variation of a simple block-diffing or mapping algorithm) that compares the previous list of items with the new one.
    3.  The algorithm should be able to identify items that are added, removed, or moved, and perform the minimum number of DOM operations.
*   **Testing (Manual):**
    *   Create an example where list items have state (e.g., an input field).
    *   Re-order the items in the source slice.
    *   Verify that the corresponding DOM elements are re-ordered *without* losing their state, proving they were not re-created.